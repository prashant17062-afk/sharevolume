<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Company Shares Outstanding</title><link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"><style>.loading-spinner {border: 4px solid rgba(0, 0, 0, 0.1);border-left-color: #3b82f6;border-radius: 50%;width: 36px;height: 36px;animation: spin 1s linear infinite;}@keyframes spin {to { transform: rotate(360deg); }}</style></head><body class="bg-gray-100 flex items-center justify-center min-h-screen p-4"><div class="container mx-auto max-w-4xl bg-white shadow-xl rounded-lg p-6 md:p-10"><h1 class="text-3xl md:text-4xl font-extrabold text-blue-800 text-center mb-6" id="main-title">Loading Company Shares...</h1><div id="loading-indicator" class="flex justify-center items-center h-48"><div class="loading-spinner"></div><p class="ml-4 text-lg text-gray-600">Fetching data...</p></div><div id="content" class="hidden"><p class="text-lg text-gray-700 text-center mb-8">Data for <span class="font-semibold text-blue-700" id="share-entity-name"></span></p><div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-8"><div class="bg-blue-50 border border-blue-200 rounded-lg p-6 shadow-md"><h2 class="text-2xl font-bold text-blue-700 mb-4">Maximum Shares Outstanding</h2><p class="text-gray-800 text-xl">Value: <span class="font-extrabold text-blue-900" id="share-max-value"></span> shares</p><p class="text-gray-600 mt-2">Fiscal Year: <span class="font-medium text-blue-800" id="share-max-fy"></span></p></div><div class="bg-red-50 border border-red-200 rounded-lg p-6 shadow-md"><h2 class="text-2xl font-bold text-red-700 mb-4">Minimum Shares Outstanding</h2><p class="text-gray-800 text-xl">Value: <span class="font-extrabold text-red-900" id="share-min-value"></span> shares</p><p class="text-gray-600 mt-2">Fiscal Year: <span class="font-medium text-red-800" id="share-min-fy"></span></p></div></div><p class="text-xs text-gray-500 text-center mt-10">Data sourced from SEC EDGAR. Fiscal Year > 2020.</p></div><div id="error-message" class="hidden text-center text-red-600 mt-8 font-semibold"><p>Error loading data. Please try again later or check the CIK.</p></div></div><script>const DEFAULT_CIK = '0001002910';const USER_AGENT = 'AmerenApp/1.0 myemail@example.com';async function fetchCompanyData(cik) {const url = `https://data.sec.gov/api/xbrl/companyconcept/CIK${cik}/dei/EntityCommonStockSharesOutstanding.json`;try {const response = await fetch(url, {headers: {'User-Agent': USER_AGENT}});if (!response.ok) {throw new Error(`HTTP error! status: ${response.status}`);}const data = await response.json();const entityName = data.entityName;const shares = data.units.shares;const filteredShares = shares.filter(entry =>parseInt(entry.fy) > 2020 && typeof entry.val === 'number');if (filteredShares.length === 0) {throw new Error('No qualifying data found for the specified CIK (FY > 2020).');}let maxVal = -Infinity;let minVal = Infinity;let maxFy = null;let minFy = null;filteredShares.forEach(entry => {if (entry.val > maxVal) {maxVal = entry.val;maxFy = entry.fy;}if (entry.val < minVal) {minVal = entry.val;minFy = entry.fy;}});return {entityName: entityName,max: { val: maxVal, fy: maxFy },min: { val: minVal, fy: minFy }};} catch (error) {console.error('Failed to fetch or process company data:', error);throw error;}}function formatNumber(num) {if (num === null) return 'N/A';return num.toLocaleString('en-US');}function updateUI(data) {document.title = `${data.entityName} Shares Outstanding`;document.getElementById('main-title').textContent = `${data.entityName} Shares Outstanding`;document.getElementById('share-entity-name').textContent = data.entityName;document.getElementById('share-max-value').textContent = formatNumber(data.max.val);document.getElementById('share-max-fy').textContent = data.max.fy;document.getElementById('share-min-value').textContent = formatNumber(data.min.val);document.getElementById('share-min-fy').textContent = data.min.fy;document.getElementById('loading-indicator').classList.add('hidden');document.getElementById('content').classList.remove('hidden');document.getElementById('error-message').classList.add('hidden');}async function init() {const urlParams = new URLSearchParams(window.location.search);const cik = urlParams.get('CIK') || DEFAULT_CIK;document.getElementById('loading-indicator').classList.remove('hidden');document.getElementById('content').classList.add('hidden');document.getElementById('error-message').classList.add('hidden');try {const data = await fetchCompanyData(cik);updateUI(data);} catch (error) {document.getElementById('loading-indicator').classList.add('hidden');document.getElementById('content').classList.add('hidden');document.getElementById('error-message').classList.remove('hidden');console.error("Initialization failed:", error);}}document.addEventListener('DOMContentLoaded', init);</script></body></html>